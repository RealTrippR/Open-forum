<!DOCTYPE html>
<html lang="en">
<head> 
    <meta charset="UTF-8">
    <title> Register </title>
    <link rel="stylesheet" href="/style.css">
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: var(--backgroundColor);
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }

        #navbar {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
        }

        .login-box {
            align-items: center;
            background-color: var(--navBarColor);
            padding: 50px;
            box-shadow: var(--stdShadow);
            width: 320px;
            text-align: center;
            border: var(--stdBorder);
        }
        .login-box form {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .login-box h2 {
            margin-bottom: 24px;
        }

        .login-box input[type="text"],
        .login-box input[type="email"],
        .login-box input[type="password"] {
            width: 100%;
            padding: 10px;
            margin: 4px 0 8px 0;
            font-size: 14px;
            font-family: var(--stdMinorFontFamily);
        }

        .login-box input[type="submit"] {
            margin-top: 1px;
            background: var(--navBarColor);

            color: white;
            border: var(--stdMinorShadow);
            padding: 12px 25px;
            font-size: 16px;
            font-family: var(--stdMinorFontFamily);
            cursor: pointer;
            width: 100%;

            text-decoration: none;
            font-size: 14px;
            border: var(--stdBorder);
            box-shadow: var(--stdMinorShadow);
            
        }

        .login-box input[type="submit"]:hover {
            background:  color-mix(in srgb, var(--backgroundColor) 70%, black);
        }

        .login-box a {
            font-family: var(--stdMinorFontFamily);

            background: (--navBarColor);
            padding: 12px 20px;
            margin: 0px 20px 0px 20px;
            display: block;
            margin-top: 16px;
            color: #ffffff;
            text-decoration: none;
            font-size: 14px;
            border: var(--stdBorder);
            box-shadow: var(--stdMinorShadow);
        }

        .login-box a:hover {
            background:  color-mix(in srgb, var(--backgroundColor) 70%, black);
        }
    </style>
</head>
<body>

    <div id="navbar"></div>
    <script src="/loadNavbar.js"></script>
    <script src="/loadCopyright.js"></script>

    <script>
        window.onload = function() {
            loadNavbar();
            loadCopyright();
        };
    </script>

<div class="login-box"  style="text-align: center;">
    <p class='stdText' style='font-family: var(--stdHeaderFontFamily); font-size: 30px; font-weight: 600; text-shadow: var(--stdShadow); '>User Register</p>
    <BR>
    <form method="post" style="align-items: center;">
        <div class="input-wrapper">
            <input type='text' id='username' placeholder='Username' name='username' required>
            <div class="errorText" id="username-error"></div>
        </div>
    
        <div class="input-wrapper">
            <input type='email' id='email' placeholder='Email' name='email' required>
            <div class="errorText" id="email-error"></div>
        </div>
    
        <div class="input-wrapper">
            <input type='password' id='password' placeholder='Password' name='password' required>
            <div class="errorText" id="password-error"></div>
        </div>
    


        <input type='submit' name='submit' value="Register Account">
    </form>
</div>

<script>

const validateEmail = (email) => {
    return String(email)
      .toLowerCase()
      .match(
        /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
      );
  };
  
const MIN_USERNAME_LEN = 3;
const MIN_PASSWORD_LEN = 10;

const usernameInput = document.getElementById('username')
const emailInput = document.getElementById('email');
const passwordInput = document.getElementById('password');

const usernameErr = document.getElementById('username-error')
const emailErr = document.getElementById('email-error');
const passwordErr = document.getElementById('password-error');

usernameInput.addEventListener('input', (event) => {
    if (usernameInput.value.length < MIN_USERNAME_LEN && !usernameInput.value.length == 0) {
        usernameErr.textContent = `Username must be at least ${MIN_USERNAME_LEN} characters long`;
    } else {
        usernameErr.textContent = '';
    }
})

emailInput.addEventListener('input', (event) => {
    if (validateEmail(emailInput.value) == false && !emailInput.value.length == 0) {
        emailErr.textContent = `Invalid Email`;
    } else {
        emailErr.textContent = '';
    }
})

passwordInput.addEventListener('input', (event) => {
    if (passwordInput.value.length < MIN_PASSWORD_LEN && !passwordInput.value.length == 0) {
        passwordErr.textContent = `Password must be at least ${MIN_PASSWORD_LEN} characters long`;
    } else {
        passwordErr.textContent = '';
    }
})

</script>

</form>

<div id="copyright-div"> </div>

</body>
</html>